/* ============================================
   GLOBAL THEME & BASE STYLES
   ============================================ */
:root{
  --bg: #0f172a;          /* slate-900 */
  --panel: #111827;       /* gray-900 */
  --card: #0b1222;        /* deep bluish */
  --text: #e5e7eb;        /* gray-200 */
  --muted: #9ca3af;       /* gray-400 */
  --pri: #7c3aed;         /* violet-600 */
  --pri-2: #a78bfa;       /* violet-300 */
  --ok: #10b981;          /* emerald-500 */
  --warn: #ef4444;        /* red-500 */
  --radius: 18px;
  --shadow: 0 10px 30px rgba(0,0,0,.35);
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body{
  margin:0;
  font: 16px/1.6 system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
  color: var(--text);
  background: radial-gradient(1000px 500px at 10% -10%, #1f2937, transparent),
              radial-gradient(1000px 500px at 90% 110%, #1f2937, transparent),
              var(--bg);
}

.wrap{ max-width: 1100px; margin: 0 auto; padding: 24px; }

.site-header, .site-footer{ text-align:center; padding: 24px 16px; }
.tag{ color: var(--muted); }

.card{
  background: linear-gradient(180deg, #0b1222, #0a1020 55%);
  border: 1px solid #1f2937;
  border-radius: var(--radius);
  padding: 20px;
  margin: 18px 0;
  box-shadow: var(--shadow);
}

.grid{ display:grid; gap:16px; grid-template-columns: repeat(auto-fit, minmax(180px, 1fr)); }
.grid-2{ display:grid; gap:20px; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); }

.pre{
  background:#0a0f1a; border:1px solid #1f2937; padding:12px; border-radius:12px;
  overflow:auto; min-height: 56px;
}

.panel{
  display:flex; align-items:center; gap:10px; flex-wrap:wrap;
  background:#0a0f1a; border:1px solid #1f2937; padding:12px; border-radius:12px;
}

.right{ text-align:right; }

/* Buttons */
.btn{
  appearance:none; border:0; color:white; cursor:pointer;
  background: linear-gradient(135deg, var(--pri), var(--pri-2));
  padding: 10px 16px; border-radius: 999px; font-weight:700;
  transition: transform .2s ease, box-shadow .2s ease, filter .2s ease; /* Part 1: transition */
  box-shadow: 0 8px 20px rgba(124,58,237,.35);
}
.btn:hover{ transform: translateY(-2px) scale(1.02); filter: brightness(1.05); }
.btn:active{ transform: translateY(0) scale(.98); }

.btn-outline{
  background: transparent; border:1px solid var(--pri-2);
}
.btn-danger{
  background: linear-gradient(135deg, #ef4444, #f59e0b);
}

/* ============================================
   PART 1 — CSS-ONLY ANIMATIONS
   ============================================ */

/* Floating badge — keyframes; time-based, no JS */
.badge{
  border-radius: 10px; padding: 10px 12px; text-align:center; font-weight:600;
  background: linear-gradient(180deg, #0f172a, #0b1222);
  border: 1px solid #273043; box-shadow: var(--shadow);
  animation: floatY 3s ease-in-out infinite; /* Part 1: keyframes */
}

@keyframes floatY{
  0%,100%{ transform: translateY(0); }
  50%{ transform: translateY(-10px); }
}

/* Pulsing circle — keyframes */
.pulse-demo{
  width: 56px; height: 56px; border-radius: 50%;
  background: radial-gradient(circle at 30% 30%, var(--ok), #064e3b);
  margin: 0 auto;
  animation: pulse 1.6s ease-in-out infinite;
}
@keyframes pulse{
  0%{ transform: scale(1); box-shadow: 0 0 0 0 rgba(16,185,129,0.6); }
  70%{ transform: scale(1.06); box-shadow: 0 0 0 18px rgba(16,185,129,0); }
  100%{ transform: scale(1); box-shadow: 0 0 0 0 rgba(16,185,129,0); }
}

/* Flip card — CSS-only on hover */
.flip-card{
  width: 180px; height: 120px; perspective: 1000px; margin-inline:auto;
}
.flip-card.js-controlled{ cursor: pointer; } /* for JS variant */
.flip-card-inner{
  position: relative; width: 100%; height: 100%;
  transform-style: preserve-3d;
  transition: transform .8s cubic-bezier(.2,.8,.2,1); /* Part 1: transition */
}
.flip-card:hover .flip-card-inner,
.flip-card.is-flipped .flip-card-inner{ /* JS toggles .is-flipped */
  transform: rotateY(180deg);
}
.flip-card-face{
  position:absolute; inset:0; display:grid; place-items:center; font-weight:800; letter-spacing:.5px;
  border-radius: 12px; border:1px solid #24314a; background: linear-gradient(180deg, #0d1323, #0a0f1d);
  backface-visibility: hidden;
}
.flip-card-face.back{ transform: rotateY(180deg); }

/* ============================================
   PART 3 — JS TRIGGERS CSS ANIMATIONS
   ============================================ */

.playground{ height: 120px; display:grid; place-items:center; border:1px dashed #22314d; border-radius: 12px; }
.box{
  width: 80px; height: 80px; border-radius: 12px; border:1px solid #2b3957;
  background: conic-gradient(from 0deg at 50% 50%, #1d4ed8, #9333ea, #06b6d4, #1d4ed8);
  transform: translateX(-160px);
}
/* When JS adds .run, keyframes animate it into place */
.box.run{
  animation: slideIn .9s var(--ease, cubic-bezier(.2,.8,.2,1)) forwards;
}
@keyframes slideIn{
  0%{ transform: translateX(-160px) scale(.9); opacity:.2; }
  60%{ transform: translateX(10px) scale(1.03); opacity:1; }
  100%{ transform: translateX(0) scale(1); }
}

/* Loader animation: JS toggles .on */
.loader{
  width: 48px; height: 48px; margin-top: 10px; border-radius: 50%;
  border: 4px solid #24314a; border-top-color: var(--pri-2);
}
.loader.on{ animation: spin 1s linear infinite; }
@keyframes spin{ to{ transform: rotate(360deg); } }

/* Modal: JS toggles .open and .closing */
.modal{ position: fixed; inset:0; display:none; }
.modal.open{ display:block; }
.modal__backdrop{
  position:absolute; inset:0; background: rgba(2,6,23,.6);
  opacity:0; transition: opacity .3s ease;
}
.modal.open .modal__backdrop{ opacity:1; }

.modal__panel{
  position:absolute; left:50%; top:20%;
  transform: translate(-50%, -30%); opacity:0;
  width:min(92vw, 520px); background: #0a0f1a; border:1px solid #1f2937; border-radius: 16px;
  padding: 18px; box-shadow: var(--shadow);
  animation: modalIn .4s cubic-bezier(.2,.8,.2,1) forwards;
}
@keyframes modalIn{
  to{ transform: translate(-50%, 0%); opacity:1; }
}
/* fade out when closing */
.modal.closing .modal__panel{
  animation: modalOut .25s ease forwards;
}
@keyframes modalOut{
  to{ transform: translate(-50%, -6%); opacity:0; }
}

/* Utilities */
.muted{ color: var(--muted); }

/* Accessibility: respect motion preferences */
@media (prefers-reduced-motion: reduce){
  *{ animation-duration: .001ms !important; animation-iteration-count: 1 !important; transition-duration: 0ms !important; }
}
